{"remainingRequest":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\common\\AppHeader.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\common\\AppHeader.vue","mtime":1747582789760},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\babel.config.js","mtime":1656894958000},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1747587511976},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1747587512252}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nexport default {\n  name: 'Header',\n  props: ['searchInput', 'nicknameValue', 'avatarValue'],\n  data: function data() {\n    return {\n      searchValue: this.searchInput,\n      nickname: '登录',\n      avatar: '/avatar.jpg',\n      isLogin: false\n    };\n  },\n  created: function created() {\n    var _this = this;\n    if (!this.$globalData.userInfo.nickname) {\n      this.$api.getUserInfo().then(function (res) {\n        console.log('Header getUserInfo:', res);\n        if (res.status_code === 1) {\n          _this.nickname = res.data.nickname;\n          _this.avatar = _this.$store.state.baseApi + res.data.avatar;\n          res.data.signInTime = res.data.signInTime.substring(0, 10);\n          _this.$globalData.userInfo = res.data;\n          _this.isLogin = true;\n        }\n      });\n    } else {\n      this.nickname = this.$globalData.userInfo.nickname;\n      this.avatar = this.$store.state.baseApi + this.$globalData.userInfo.avatar;\n      this.isLogin = true;\n    }\n  },\n  methods: {\n    searchIdle: function searchIdle() {\n      if ('/search' !== this.$route.path) {\n        this.$router.push({\n          path: '/search',\n          query: {\n            searchValue: this.searchValue\n          }\n        });\n      } else {\n        this.$router.replace({\n          path: '/search',\n          query: {\n            searchValue: this.searchValue\n          }\n        });\n        this.$router.go(0);\n      }\n    },\n    toMe: function toMe() {\n      if ('/me' !== this.$route.path) {\n        this.$router.push({\n          path: '/me'\n        });\n      }\n    },\n    toMessage: function toMessage() {\n      if ('/message' !== this.$route.path) {\n        this.$router.push({\n          path: '/message'\n        });\n      }\n    },\n    toRelease: function toRelease() {\n      if ('/release' !== this.$route.path) {\n        this.$router.push({\n          path: '/release'\n        });\n      }\n    },\n    loginOut: function loginOut() {\n      var _this2 = this;\n      this.$api.logout().then(function (res) {\n        if (res.status_code === 1) {\n          _this2.$globalData.userInfo = {};\n          console.log(\"login out\");\n          if ('/index' === _this2.$route.path) {\n            _this2.$router.go(0);\n          } else {\n            _this2.$router.push({\n              path: '/index'\n            });\n          }\n        } else {\n          _this2.$message.error('网络或系统异常，退出登录失败！');\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["name","props","data","searchValue","searchInput","nickname","avatar","isLogin","created","_this","$globalData","userInfo","$api","getUserInfo","then","res","console","log","status_code","$store","state","baseApi","signInTime","substring","methods","searchIdle","$route","path","$router","push","query","replace","go","toMe","toMessage","toRelease","loginOut","_this2","logout","$message","error"],"sources":["src/components/common/AppHeader.vue"],"sourcesContent":["<template>\n    <div class=\"header\">\n        <div class=\"header-container\">\n            <div class=\"app-name\">\n                <router-link to=\"/\">\n                        <img src=\"@/assets/03.png\" style=\"\n                                width: 40px;\n                                height: 40px;\n                                margin: 5px 5px -5px 0;\n                                -webkit-user-drag: none;\n                                -khtml-user-drag: none;\n                                -moz-user-drag: none;\n                                user-drag: none;\n                            \" />\n                    <b style=\"color: black;display: inline-block; margin-bottom: 20px;font-size: 28px;\">\n                        北信科二手交易平台\n                    </b>\n                </router-link>\n\n            </div>\n            <div class=\"search-container\">\n                <el-input placeholder=\"搜索二手物品\" v-model=\"searchValue\" @keyup.enter.native=\"searchIdle\" size=\"large\">\n                    <el-button slot=\"append\" @click=\"searchIdle\">\n                        <i class=\"iconfont icon-r-find\" style=\"font-size: 24px;\"> </i>\n                    </el-button>\n                </el-input>\n            </div>\n            <el-button type=\"success\" @click=\"toRelease\"> 出售二手物品</el-button>\n            <el-button type=\"primary\" @click=\"toMessage\"> 消息</el-button>\n            <router-link v-if=\"!isLogin\" class=\"user-name-text\" to=\"/login\"> 登录</router-link>\n            <el-dropdown trigger=\"click\" v-else>\n                <div style=\"cursor:pointer;display: flex;align-items: center;\">\n                    <div style=\"font-size: 28px;color: #409EFF;padding-right: 5px;\">\n                        <b>\n\n                            {{ nicknameValue ? nicknameValue : nickname }}\n                        </b>\n                    </div>\n                    <el-avatar :src=\"avatar\" shape=\"square\" :size=\"60\"></el-avatar>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item>\n                        <div @click=\"toMe\">个人中心</div>\n                    </el-dropdown-item>\n                    <el-dropdown-item divided style=\"color: red;\">\n                        <div @click=\"loginOut\"> 退出登录</div>\n                    </el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </div>\n    </div>\n</template>\n<script>\n\nexport default {\n    name: 'Header',\n    props: ['searchInput', 'nicknameValue', 'avatarValue'],\n    data() {\n        return {\n            searchValue: this.searchInput,\n            nickname: '登录',\n            avatar: '/avatar.jpg',\n            isLogin: false\n        };\n    },\n    created() {\n        if (!this.$globalData.userInfo.nickname) {\n            this.$api.getUserInfo().then(res => {\n                console.log('Header getUserInfo:', res);\n                if (res.status_code === 1) {\n                    this.nickname = res.data.nickname;\n                    this.avatar = this.$store.state.baseApi + res.data.avatar;\n                    res.data.signInTime = res.data.signInTime.substring(0, 10);\n                    this.$globalData.userInfo = res.data;\n                    this.isLogin = true;\n                }\n            })\n        } else {\n            this.nickname = this.$globalData.userInfo.nickname;\n            this.avatar = this.$store.state.baseApi + this.$globalData.userInfo.avatar;\n            this.isLogin = true;\n        }\n    },\n    methods: {\n        searchIdle() {\n            if ('/search' !== this.$route.path) {\n                this.$router.push({ path: '/search', query: { searchValue: this.searchValue } });\n            } else {\n                this.$router.replace({ path: '/search', query: { searchValue: this.searchValue } });\n                this.$router.go(0);\n            }\n\n        },\n        toMe() {\n            if ('/me' !== this.$route.path) {\n                this.$router.push({ path: '/me' });\n            }\n        },\n        toMessage() {\n            if ('/message' !== this.$route.path) {\n                this.$router.push({ path: '/message' });\n            }\n        },\n        toRelease() {\n            if ('/release' !== this.$route.path) {\n                this.$router.push({ path: '/release' });\n            }\n        },\n        loginOut() {\n            this.$api.logout().then(res => {\n                if (res.status_code === 1) {\n                    this.$globalData.userInfo = {};\n                    console.log(\"login out\");\n                    if ('/index' === this.$route.path) {\n                        this.$router.go(0);\n                    } else {\n                        this.$router.push({ path: '/index' });\n                    }\n                } else {\n                    this.$message.error('网络或系统异常，退出登录失败！');\n                }\n            });\n\n        }\n    }\n};\n</script>\n<style scoped>\n.header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 70px;\n    background: #f0f8ff;\n    display: flex;\n    justify-content: center;\n    border-bottom: #eeeeee solid 2px;\n    z-index: 1000;\n}\n\n.header-container {\n    width: 1000px;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.app-name a {\n    color: #409EFF;\n    font-size: 24px;\n    text-decoration: none;\n}\n\n.search-container {\n    width: 300px;\n}\n\n.user-name-text {\n    font-size: 16px;\n    font-weight: 600;\n    color: #409EFF;\n    cursor: pointer;\n    text-decoration: none;\n}</style>\n"],"mappings":";AAsDA;EACAA,IAAA;EACAC,KAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA,OAAAC,WAAA;MACAC,QAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,UAAAC,WAAA,CAAAC,QAAA,CAAAN,QAAA;MACA,KAAAO,IAAA,CAAAC,WAAA,GAAAC,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,wBAAAF,GAAA;QACA,IAAAA,GAAA,CAAAG,WAAA;UACAT,KAAA,CAAAJ,QAAA,GAAAU,GAAA,CAAAb,IAAA,CAAAG,QAAA;UACAI,KAAA,CAAAH,MAAA,GAAAG,KAAA,CAAAU,MAAA,CAAAC,KAAA,CAAAC,OAAA,GAAAN,GAAA,CAAAb,IAAA,CAAAI,MAAA;UACAS,GAAA,CAAAb,IAAA,CAAAoB,UAAA,GAAAP,GAAA,CAAAb,IAAA,CAAAoB,UAAA,CAAAC,SAAA;UACAd,KAAA,CAAAC,WAAA,CAAAC,QAAA,GAAAI,GAAA,CAAAb,IAAA;UACAO,KAAA,CAAAF,OAAA;QACA;MACA;IACA;MACA,KAAAF,QAAA,QAAAK,WAAA,CAAAC,QAAA,CAAAN,QAAA;MACA,KAAAC,MAAA,QAAAa,MAAA,CAAAC,KAAA,CAAAC,OAAA,QAAAX,WAAA,CAAAC,QAAA,CAAAL,MAAA;MACA,KAAAC,OAAA;IACA;EACA;EACAiB,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA,uBAAAC,MAAA,CAAAC,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAF,IAAA;UAAAG,KAAA;YAAA3B,WAAA,OAAAA;UAAA;QAAA;MACA;QACA,KAAAyB,OAAA,CAAAG,OAAA;UAAAJ,IAAA;UAAAG,KAAA;YAAA3B,WAAA,OAAAA;UAAA;QAAA;QACA,KAAAyB,OAAA,CAAAI,EAAA;MACA;IAEA;IACAC,IAAA,WAAAA,KAAA;MACA,mBAAAP,MAAA,CAAAC,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAF,IAAA;QAAA;MACA;IACA;IACAO,SAAA,WAAAA,UAAA;MACA,wBAAAR,MAAA,CAAAC,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAF,IAAA;QAAA;MACA;IACA;IACAQ,SAAA,WAAAA,UAAA;MACA,wBAAAT,MAAA,CAAAC,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAF,IAAA;QAAA;MACA;IACA;IACAS,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACA,KAAAzB,IAAA,CAAA0B,MAAA,GAAAxB,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAG,WAAA;UACAmB,MAAA,CAAA3B,WAAA,CAAAC,QAAA;UACAK,OAAA,CAAAC,GAAA;UACA,iBAAAoB,MAAA,CAAAX,MAAA,CAAAC,IAAA;YACAU,MAAA,CAAAT,OAAA,CAAAI,EAAA;UACA;YACAK,MAAA,CAAAT,OAAA,CAAAC,IAAA;cAAAF,IAAA;YAAA;UACA;QACA;UACAU,MAAA,CAAAE,QAAA,CAAAC,KAAA;QACA;MACA;IAEA;EACA;AACA"}]}