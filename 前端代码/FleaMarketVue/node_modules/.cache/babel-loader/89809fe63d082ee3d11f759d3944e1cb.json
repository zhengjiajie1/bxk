{"remainingRequest":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\page\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\page\\index.vue","mtime":1702116252000},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\babel.config.js","mtime":1656894958000},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1747587511976},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\Spring Boot实验-北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1747587512252}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport AppHead from \"../common/AppHeader.vue\";\nimport AppBody from \"../common/AppPageBody.vue\";\nimport AppFoot from \"../common/AppFoot.vue\";\nexport default {\n  name: \"index\",\n  components: {\n    AppHead: AppHead,\n    AppBody: AppBody,\n    AppFoot: AppFoot\n  },\n  data: function data() {\n    return {\n      labelName: '0',\n      idleList: [],\n      currentPage: 1,\n      totalItem: 1,\n      typeList: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n    this.findIdleTiem(1);\n    this.$api.listType({\n      begin: 0,\n      size: 999\n    }).then(function (res) {\n      _this.typeList = res.data;\n    });\n  },\n  watch: {\n    $route: function $route(to, from) {\n      this.labelName = to.query.labelName;\n      var val = parseInt(to.query.page) ? parseInt(to.query.page) : 1;\n      // let totalPage=parseInt(this.totalItem/8)+1;\n      // val=parseInt(val%totalPage);\n      // val=val===0?totalPage:val;\n      this.currentPage = parseInt(to.query.page) ? parseInt(to.query.page) : 1;\n      this.findIdleTiem(val);\n    }\n  },\n  methods: {\n    findIdleTiem: function findIdleTiem(page) {\n      var _this2 = this;\n      var loading = this.$loading({\n        lock: true,\n        text: '加载数据中',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0)'\n      });\n      if (this.labelName > 0) {\n        this.$api.findIdleTiemByLable({\n          idleLabel: this.labelName,\n          page: page,\n          nums: 8\n        }).then(function (res) {\n          console.log(res);\n          var list = res.data.list;\n          for (var i = 0; i < list.length; i++) {\n            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n            var pictureList = JSON.parse(list[i].pictureList);\n            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n          }\n          _this2.idleList = list;\n          _this2.totalItem = res.data.count;\n          console.log(_this2.totalItem);\n        }).catch(function (e) {\n          console.log(e);\n        }).finally(function () {\n          loading.close();\n        });\n      } else {\n        this.$api.findIdleTiem({\n          page: page,\n          nums: 8\n        }).then(function (res) {\n          console.log(res);\n          var list = res.data.list;\n          for (var i = 0; i < list.length; i++) {\n            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n            var pictureList = JSON.parse(list[i].pictureList);\n            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n          }\n          _this2.idleList = list;\n          _this2.totalItem = res.data.count;\n          console.log(_this2.totalItem);\n        }).catch(function (e) {\n          console.log(e);\n          if (e.response == undefined || e.response.data == undefined) {\n            _this2.$message({\n              showClose: true,\n              message: e,\n              type: \"error\",\n              duration: 20000\n            });\n          } else {\n            _this2.$message({\n              showClose: true,\n              message: e.response.data,\n              type: \"error\",\n              duration: 20000\n            });\n          }\n        }).finally(function () {\n          loading.close();\n        });\n      }\n    },\n    handleClick: function handleClick(tab, event) {\n      // console.log(tab,event);\n      console.log(this.labelName);\n      this.$router.replace({\n        query: {\n          page: 1,\n          labelName: this.labelName\n        }\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.$router.replace({\n        query: {\n          page: val,\n          labelName: this.labelName\n        }\n      });\n    },\n    toDetails: function toDetails(idle) {\n      this.$router.push({\n        path: '/details',\n        query: {\n          id: idle.id\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["AppHead","AppBody","AppFoot","name","components","data","labelName","idleList","currentPage","totalItem","typeList","created","_this","findIdleTiem","$api","listType","begin","size","then","res","watch","$route","to","from","query","val","parseInt","page","methods","_this2","loading","$loading","lock","text","spinner","background","findIdleTiemByLable","idleLabel","nums","console","log","list","i","length","timeStr","releaseTime","substring","pictureList","JSON","parse","imgUrl","count","catch","e","finally","close","response","undefined","$message","showClose","message","type","duration","handleClick","tab","event","$router","replace","handleCurrentChange","concat","toDetails","idle","push","path","id"],"sources":["src/components/page/index.vue"],"sourcesContent":["<template>\n    <div>\n        <app-head></app-head>\n        <app-body>\n            <div style=\"min-height: 85vh;\">\n                <el-tabs v-model=\"labelName\" type=\"card\" @tab-click=\"handleClick\">\n                    <el-tab-pane label=\"全部\" name=\"0\"></el-tab-pane>\n                    <el-tab-pane v-for=\"item in typeList\" :key=\"item.id\" :label=\"item.name\" :name=\"item.id + ''\"></el-tab-pane>\n                </el-tabs>\n                <div style=\"margin: 0 20px;\">\n                    <el-row :gutter=\"30\">\n                        <el-col :span=\"6\" v-for=\"(idle, index) in idleList\" :key=\"index\">\n                            <div class=\"idle-card\" @click=\"toDetails(idle)\">\n                                <el-image style=\"width: 100%; height: 160px\" :src=\"$store.state.baseApi + idle.imgUrl\"\n                                    fit=\"contain\">\n                                    <div slot=\"error\" class=\"image-slot\">\n                                        <i class=\"el-icon-picture-outline\">无图</i>\n                                    </div>\n                                </el-image>\n                                <div class=\"idle-title\">\n                                    {{ idle.idleName }}\n                                </div>\n                                <el-row style=\"margin: 5px 10px;\">\n                                    <el-col :span=\"12\">\n                                        <div class=\"idle-prive\">￥{{ idle.idlePrice }}</div>\n                                    </el-col>\n                                    <el-col :span=\"12\">\n                                        <div class=\"idle-place\">{{ idle.idlePlace }}</div>\n                                    </el-col>\n                                </el-row>\n                                <div class=\"user-info\" v-if=\"idle.user\">\n                                    <el-image style=\"width: 30px; height: 30px\"\n                                        :src=\"$store.state.baseApi + idle.user.avatar\" fit=\"contain\">\n                                        <div slot=\"error\" class=\"image-slot\">\n                                            <i class=\"el-icon-picture-outline\">无图</i>\n                                        </div>\n                                    </el-image>\n                                    <div class=\"user-nickname\">{{ idle.user.nickname }}</div>\n                                </div>\n                            </div>\n                        </el-col>\n                    </el-row>\n                </div>\n                <div class=\"fenye\">\n                    <el-pagination background @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\"\n                        :page-size=\"8\" layout=\"prev, pager, next, jumper\" :total=\"totalItem\">\n                    </el-pagination>\n                </div>\n            </div>\n        </app-body>\n        <app-foot></app-foot>\n    </div>\n</template>\n\n<script>\nimport AppHead from '../common/AppHeader.vue';\nimport AppBody from '../common/AppPageBody.vue'\nimport AppFoot from '../common/AppFoot.vue'\n\nexport default {\n    name: \"index\",\n    components: {\n        AppHead,\n        AppBody,\n        AppFoot\n    },\n    data() {\n        return {\n            labelName: '0',\n            idleList: [],\n            currentPage: 1,\n            totalItem: 1,\n            typeList: [],\n        };\n    },\n    created() {\n        this.findIdleTiem(1)\n\n        this.$api.listType({ begin: 0, size: 999 }).then((res) => {\n            this.typeList = res.data;\n        })\n    },\n    watch: {\n        $route(to, from) {\n            this.labelName = to.query.labelName;\n            let val = parseInt(to.query.page) ? parseInt(to.query.page) : 1;\n            // let totalPage=parseInt(this.totalItem/8)+1;\n            // val=parseInt(val%totalPage);\n            // val=val===0?totalPage:val;\n            this.currentPage = parseInt(to.query.page) ? parseInt(to.query.page) : 1;\n            this.findIdleTiem(val);\n        }\n    },\n    methods: {\n        findIdleTiem(page) {\n            const loading = this.$loading({\n                lock: true,\n                text: '加载数据中',\n                spinner: 'el-icon-loading',\n                background: 'rgba(0, 0, 0, 0)'\n            });\n            if (this.labelName > 0) {\n                this.$api.findIdleTiemByLable({\n                    idleLabel: this.labelName,\n                    page: page,\n                    nums: 8\n                }).then(res => {\n                    console.log(res);\n                    let list = res.data.list;\n                    for (let i = 0; i < list.length; i++) {\n                        list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n                        let pictureList = JSON.parse(list[i].pictureList);\n                        list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                    }\n                    this.idleList = list;\n                    this.totalItem = res.data.count;\n                    console.log(this.totalItem);\n                }).catch(e => {\n                    console.log(e);\n                }).finally(() => {\n                    loading.close();\n                })\n            } else {\n                this.$api.findIdleTiem({\n                    page: page,\n                    nums: 8\n                }).then(res => {\n                    console.log(res);\n                    let list = res.data.list;\n                    for (let i = 0; i < list.length; i++) {\n                        list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n                        let pictureList = JSON.parse(list[i].pictureList);\n                        list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                    }\n                    this.idleList = list;\n                    this.totalItem = res.data.count;\n                    console.log(this.totalItem);\n                }).catch(e => {\n                    console.log(e);\n                    if (\n                        e.response == undefined ||\n                        e.response.data == undefined\n                    ) {\n                        this.$message({\n                            showClose: true,\n                            message: e,\n                            type: \"error\",\n                            duration: 20000,\n                        });\n                    } else {\n                        this.$message({\n                            showClose: true,\n                            message: e.response.data,\n                            type: \"error\",\n                            duration: 20000,\n                        });\n                    }\n                }).finally(() => {\n                    loading.close();\n                })\n            }\n        },\n        handleClick(tab, event) {\n            // console.log(tab,event);\n            console.log(this.labelName);\n            this.$router.replace({ query: { page: 1, labelName: this.labelName } });\n        },\n        handleCurrentChange(val) {\n            console.log(`当前页: ${val}`);\n            this.$router.replace({ query: { page: val, labelName: this.labelName } });\n        },\n        toDetails(idle) {\n            this.$router.push({ path: '/details', query: { id: idle.id } });\n        }\n    }\n}\n</script>\n\n<style scoped>\n.idle-card {\n    height: 300px;\n    border: #eeeeee solid 1px;\n    margin-bottom: 15px;\n    cursor: pointer;\n}\n\n.fenye {\n    display: flex;\n    justify-content: center;\n    height: 60px;\n    align-items: center;\n}\n\n.idle-title {\n    font-size: 18px;\n    font-weight: 600;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin: 10px;\n}\n\n.idle-prive {\n    font-size: 16px;\n    color: red;\n}\n\n.idle-place {\n    font-size: 13px;\n    color: #666666;\n    float: right;\n    padding-right: 20px;\n\n}\n\n.idle-time {\n    color: #666666;\n    font-size: 12px;\n    margin: 0 10px;\n}\n\n.user-nickname {\n    color: #999999;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n    height: 30px;\n    padding-left: 10px;\n}\n\n.user-info {\n    margin-top: 10px;\n    float: right;\n    padding: 5px 10px;\n    height: 30px;\n    display: flex;\n}\n</style>"],"mappings":"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"}]}