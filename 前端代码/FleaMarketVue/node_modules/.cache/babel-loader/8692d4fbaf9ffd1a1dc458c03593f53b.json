{"remainingRequest":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\common\\IdleGoods.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\common\\IdleGoods.vue","mtime":1702119564000},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\babel.config.js","mtime":1656894958000},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1747587511976},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1747587512252}],"contextDependencies":[],"result":["export default {\n  name: \"IdleGoods\",\n  data: function data() {\n    return {\n      mode: 1,\n      nowPage: 1,\n      total: 0,\n      onlineGoods: [],\n      OfflineGoods: []\n    };\n  },\n  created: function created() {\n    this.getOnlineGoods();\n  },\n  methods: {\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.nowPage = val;\n      if (this.mode == 1) {\n        this.getOnlineGoods();\n      }\n      if (this.mode == 2) {\n        this.getOfflineGoods();\n      }\n    },\n    handleSelect: function handleSelect(val) {\n      if (this.mode !== val) {\n        this.mode = val;\n        if (val == 1) {\n          this.nowPage = 1;\n          this.getOnlineGoods();\n        }\n        if (val == 2) {\n          this.nowPage = 1;\n          this.getOfflineGoods();\n        }\n      }\n    },\n    makeOfflineGoods: function makeOfflineGoods(i) {\n      var _this = this;\n      this.$api.updateGoods({\n        id: this.onlineGoods[i].id,\n        status: 2\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this.getOnlineGoods();\n        } else {\n          _this.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    deleteGoods: function deleteGoods(i) {\n      var _this2 = this;\n      this.$api.updateGoods({\n        id: this.OfflineGoods[i].id,\n        status: 0\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this2.getOfflineGoods();\n        } else {\n          _this2.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    getOnlineGoods: function getOnlineGoods() {\n      var _this3 = this;\n      this.$api.getGoods({\n        status: 1,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this3.onlineGoods = res.data.list;\n          _this3.total = res.data.count;\n        } else {\n          _this3.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    getOfflineGoods: function getOfflineGoods() {\n      var _this4 = this;\n      this.$api.getGoods({\n        status: 2,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this4.OfflineGoods = res.data.list;\n          _this4.total = res.data.count;\n        } else {\n          _this4.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }\n};",{"version":3,"names":["name","data","mode","nowPage","total","onlineGoods","OfflineGoods","created","getOnlineGoods","methods","handleCurrentChange","val","getOfflineGoods","handleSelect","makeOfflineGoods","i","_this","$api","updateGoods","id","status","then","res","status_code","$message","error","msg","catch","e","console","log","deleteGoods","_this2","_this3","getGoods","page","nums","list","count","_this4"],"sources":["src/components/common/IdleGoods.vue"],"sourcesContent":["<template>\n    <div class=\"main-border\">\n        <el-menu default-active=\"1\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\n            <el-menu-item index=\"1\">上线的二手物品</el-menu-item>\n            <el-menu-item index=\"2\">下架的二手物品</el-menu-item>\n        </el-menu>\n        <el-table v-if=\"this.mode == 1\"\n                :data=\"onlineGoods\"\n                stripe\n                style=\"width: 100%;color: #5a5c61;\">\n            <el-table-column\n                    prop=\"releaseTime\"\n                    label=\"发布日期\"\n                    width=\"200\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"idleName\"\n                    label=\"二手物品名称\"\n                    show-overflow-tooltip\n                    >\n            </el-table-column>\n            <el-table-column\n                    prop=\"user.nickname\"\n                    label=\"发布用户\"\n                    show-overflow-tooltip\n                    min-width=\"100\"\n                    width=\"100\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"idlePrice\"\n                    label=\"价格\"\n                    show-overflow-tooltip\n                    min-width=\"100\"\n                    width=\"100\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"makeOfflineGoods(scope.$index)\"> 违规下架</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-table v-show=\"this.mode == 2\"\n                  :data=\"OfflineGoods\"\n                  stripe\n                  style=\"width: 100%;color: #5a5c61;\">\n            <el-table-column\n                    prop=\"releaseTime\"\n                    label=\"发布日期\"\n                    width=\"200\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"idleName\"\n                    label=\"二手物品名称\"\n                    show-overflow-tooltip\n            >\n            </el-table-column>\n            <el-table-column\n                    prop=\"user.nickname\"\n                    label=\"发布用户\"\n                    show-overflow-tooltip\n                    min-width=\"100\"\n                    width=\"100\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"idlePrice\"\n                    label=\"价格\"\n                    show-overflow-tooltip\n                    min-width=\"100\"\n                    width=\"100\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"deleteGoods(scope.$index)\">永久删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <div class=\"block\">\n            <el-pagination\n                    @current-change=\"handleCurrentChange\"\n                    :current-page.sync=\"nowPage\"\n                    :page-size=\"8\"\n                    background\n                    layout=\"prev, pager, next,jumper\"\n                    :total=\"total\">\n            </el-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"IdleGoods\",\n        data(){\n            return {\n                mode:1,\n                nowPage: 1,\n                total: 0,\n                onlineGoods: [],\n                OfflineGoods:[],\n            }\n        },\n        created() {\n            this.getOnlineGoods();\n        },\n        methods: {\n            handleCurrentChange(val) {\n                this.nowPage = val;\n                if(this.mode == 1){\n                    this.getOnlineGoods();\n                }\n                if(this.mode == 2){\n                    this.getOfflineGoods();\n                }\n            },\n            handleSelect(val){\n                if(this.mode !== val){\n                    this.mode = val;\n                    if(val == 1){\n                        this.nowPage = 1;\n                        this.getOnlineGoods();\n                    }\n                    if(val == 2){\n                        this.nowPage = 1;\n                        this.getOfflineGoods();\n                    }\n                }\n            },\n            makeOfflineGoods(i){\n                this.$api.updateGoods({\n                    id: this.onlineGoods[i].id,\n                    status:2\n                }).then(res => {\n                    if(res.status_code==1){\n                        this.getOnlineGoods();\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            deleteGoods(i){\n                this.$api.updateGoods({\n                    id: this.OfflineGoods[i].id,\n                    status:0\n                }).then(res => {\n                    if(res.status_code==1){\n                        this.getOfflineGoods();\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            getOnlineGoods(){\n                this.$api.getGoods({\n                    status:1,\n                    page: this.nowPage,\n                    nums:8\n                }).then(res => {\n                    if(res.status_code==1){\n                        this.onlineGoods = res.data.list;\n                        this.total = res.data.count;\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            getOfflineGoods(){\n                this.$api.getGoods({\n                    status:2,\n                    page: this.nowPage,\n                    nums:8\n                }).then(res => {\n                    if(res.status_code==1){\n                        this.OfflineGoods = res.data.list;\n                        this.total = res.data.count;\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            }\n        }\n\n    }\n</script>\n\n<style scoped>\n    .main-border{\n        background-color: #FFF;\n        padding: 10px 30px;\n        box-shadow: 0 1px 15px -6px rgba(0,0,0,.5);\n        border-radius: 5px;\n    }\n    .block {\n        display: flex;\n        justify-content:center;\n        padding-top: 15px;\n        padding-bottom: 10px;\n        width: 100%;\n    }\n</style>"],"mappings":"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"}]}