{"remainingRequest":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\page\\message.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\page\\message.vue","mtime":1702111130000},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1747587511976},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1747587512252}],"contextDependencies":[],"result":["\n    import AppHead from '../common/AppHeader.vue';\n    import AppBody from '../common/AppPageBody.vue'\n    import AppFoot from '../common/AppFoot.vue'\n\n    export default {\n        name: \"message\",\n        components: {\n            AppHead,\n            AppBody,\n            AppFoot\n        },\n        data(){\n            return{\n                meslist:[]\n            };\n        },\n        created(){\n            this.$api.getAllMyMessage().then(res=>{\n                console.log(res);\n                if(res.status_code===1){\n                    for(let i=0;i<res.data.length;i++){\n                        let imgList=JSON.parse(res.data[i].idle.pictureList);\n                        res.data[i].idle.imgUrl=imgList?imgList[0]:'';\n                        let contentList=res.data[i].content.split('<br>');\n                        let contenHtml=contentList[0];\n                        for(let i=1;i<contentList.length;i++){\n                            contenHtml+='  '+contentList[i];\n                        }\n                        res.data[i].content=contenHtml;\n                    }\n                    this.meslist=res.data;\n                }\n            })\n        },\n        methods:{\n            toDetails(id){\n                this.$router.push({path: '/details',query:{id:id}});\n            }\n        }\n    }\n",{"version":3,"sources":["message.vue"],"names":[],"mappings":";AAoCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"message.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n    <div>\n        <app-head></app-head>\n        <app-body>\n            <div class=\"message-container\">\n                <div class=\"message-container-title\"><b> 我的消息</b></div>\n                <hr>\n                <div v-if=\"meslist.length <= 0\" style=\"width: 100%;padding: 20px 0 20px 0;color:grey;text-align: center;\">\n                    <h4> - 暂无消息 - </h4>\n                </div>\n                <div v-for=\"(mes,index) in meslist\" :key=\"index\" class=\"message-container-list\" @click=\"toDetails(mes.idle.id)\">\n                    <div class=\"message-container-list-left\">\n                        <el-image\n                                style=\"width: 55px; height: 55px;border-radius: 5px;\"\n                                :src=\"$store.state.baseApi + mes.fromU.avatar\"\n                                fit=\"cover\"></el-image>\n                        <div class=\"message-container-list-text\">\n                            <div class=\"message-nickname\">{{mes.fromU.nickname}}</div>\n                            <div class=\"message-content\">{{mes.content}}</div>\n                            <div class=\"message-time\">{{mes.createTime}}</div>\n                        </div>\n                    </div>\n                    <div class=\"message-container-list-right\">\n                        <el-image\n                                style=\"width:130px; height: 90px;\"\n                                :src=\"$store.state.baseApi + mes.idle.imgUrl\"\n                                fit=\"contain\"></el-image>\n                    </div>\n                </div>\n            </div>\n            <app-foot></app-foot>\n        </app-body>\n    </div>\n</template>\n\n<script>\n    import AppHead from '../common/AppHeader.vue';\n    import AppBody from '../common/AppPageBody.vue'\n    import AppFoot from '../common/AppFoot.vue'\n\n    export default {\n        name: \"message\",\n        components: {\n            AppHead,\n            AppBody,\n            AppFoot\n        },\n        data(){\n            return{\n                meslist:[]\n            };\n        },\n        created(){\n            this.$api.getAllMyMessage().then(res=>{\n                console.log(res);\n                if(res.status_code===1){\n                    for(let i=0;i<res.data.length;i++){\n                        let imgList=JSON.parse(res.data[i].idle.pictureList);\n                        res.data[i].idle.imgUrl=imgList?imgList[0]:'';\n                        let contentList=res.data[i].content.split('<br>');\n                        let contenHtml=contentList[0];\n                        for(let i=1;i<contentList.length;i++){\n                            contenHtml+='  '+contentList[i];\n                        }\n                        res.data[i].content=contenHtml;\n                    }\n                    this.meslist=res.data;\n                }\n            })\n        },\n        methods:{\n            toDetails(id){\n                this.$router.push({path: '/details',query:{id:id}});\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .message-container{\n        min-height: 85vh;\n        padding: 0 20px;\n    }\n    .message-container-title{\n        padding: 20px 0;\n    }\n    .message-container-list{\n        cursor:pointer;\n        height: 110px;\n        border-top: 1px solid #eeeeee;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n    .message-container-list-left{\n        width: 800px;\n        display: flex;\n    }\n    .message-container-list-right{\n        width: 130px;\n    }\n    .message-container-list-text{\n        margin-left: 10px;\n    }\n    .message-nickname{\n        font-weight: 600;\n        font-size: 18px;\n        padding-bottom: 5px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n    .message-content{\n        font-size: 16px;\n        padding-bottom: 15px;\n        color: #555555;\n        width: 710px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n    .message-time{\n        font-size: 13px;\n        color: #555555;\n    }\n</style>"]}]}