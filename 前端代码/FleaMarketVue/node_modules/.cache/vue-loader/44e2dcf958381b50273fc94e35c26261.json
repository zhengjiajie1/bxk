{"remainingRequest":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\page\\me.vue?vue&type=style&index=0&id=009d4990&scoped=true&lang=css","dependencies":[{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\src\\components\\page\\me.vue","mtime":1702129474000},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\css-loader\\index.js","mtime":1747587511396},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1747587512584},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1747587511965},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747587511841},{"path":"D:\\Study\\Java\\北信科二手交易平台\\前端代码\\FleaMarketVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1747587512252}],"contextDependencies":[],"result":["\n.user-info-container {\n    width: 100%;\n    height: 200px;\n    border-bottom: 15px solid #f6f6f6;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.user-info-details {\n    display: flex;\n    height: 140px;\n    align-items: center;\n    margin: 20px 40px;\n}\n\n.user-info-details-text {\n    margin-left: 20px;\n}\n\n.user-info-details-text-nickname {\n    font-size: 26px;\n    font-weight: 600;\n    margin: 10px 0;\n}\n\n.user-info-details-text-time {\n    font-size: 14px;\n    margin-bottom: 10px;\n}\n\n.user-info-splace {\n    margin-right: 90px;\n}\n\n.idle-container {\n    padding: 0 20px;\n}\n\n.idle-container-list {\n    min-height: 55vh;\n}\n\n.idle-container-list-item {\n    border-bottom: 1px solid #eeeeee;\n    cursor: pointer;\n}\n\n.idle-container-list-item:last-child {\n    border-bottom: none;\n}\n\n.idle-container-list-item-detile {\n    height: 120px;\n    display: flex;\n    align-items: center;\n}\n\n.idle-container-list-item-text {\n    margin-left: 10px;\n    height: 120px;\n    max-width: 800px;\n}\n\n.idle-container-list-title {\n    font-weight: 600;\n    font-size: 18px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.idle-container-list-idle-details {\n    font-size: 14px;\n    color: #555555;\n    padding-top: 5px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.idle-container-list-idle-time {\n    font-size: 13px;\n    padding-top: 5px;\n}\n\n.idle-prive {\n    font-size: 15px;\n    padding-top: 5px;\n    color: red;\n}\n\n.edit-tip {\n    font-size: 14px;\n    margin: 10px 5px;\n}\n\n.address-container {\n    padding: 10px 20px;\n}\n\n.address-container-back {\n    margin-bottom: 10px;\n}\n\n.address-container-add-title {\n    color: #409EFF;\n    padding: 10px;\n    color: black;\n    font-size: 28px;\n}\n\n.address-container-add-item {\n    margin-bottom: 20px;\n}\n\n.demonstration {\n    color: #666666;\n    font-size: 14px;\n    padding: 10px;\n}\n\n.address-container-add {\n    padding: 0 200px;\n}\n\n.address-container-list {\n    padding: 30px 100px;\n}\n\n.idle-item-foot {\n    width: 800px;\n    display: flex;\n    justify-content: space-between;\n}\n",{"version":3,"sources":["me.vue"],"names":[],"mappings":";AAmjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"me.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n    <div>\n        <app-head :nickname-value=\"userInfo.nickname\" :avatarValue=\"userInfo.avatar\"></app-head>\n        <app-body>\n            <div v-show=\"!eidtAddress\">\n                <div class=\"user-info-container\">\n                    <div class=\"user-info-details\">\n\n                        <el-upload action=\"http://localhost:9321/file/\" :on-success=\"fileHandleSuccess\"\n                            :file-list=\"imgFileList\" accept=\"image/*\">\n                            <el-image style=\"width: 120px; height: 120px;border-radius: 10px;\"\n                                :src=\"$store.state.baseApi + userInfo.avatar\" fit=\"contain\"></el-image>\n                        </el-upload>\n                        <div class=\"user-info-details-text\">\n                            <div class=\"user-info-details-text-nickname\">{{ userInfo.nickname }}</div>\n                            <div class=\"user-info-details-text-time\">{{ userInfo.signInTime }} 加入平台</div>\n                            <div class=\"user-info-details-text-edit\">\n                                <el-button type=\"primary\" plain @click=\"userInfoDialogVisible = true\"> 编辑个人信息</el-button>\n                                <el-button type=\"success\" plain @click=\"eidtAddress = true\"> 编辑收货地址</el-button>\n                            </div>\n                            \n                            <el-dialog @close=\"finishEdit\" title=\"编辑个人信息\" :visible.sync=\"userInfoDialogVisible\"\n                                width=\"400px\">\n                                <div class=\"edit-tip\"> 昵称</div>\n                                <el-input v-model=\"userInfo.nickname\" :disabled=\"notUserNicknameEdit\"\n                                    @change=\"saveUserNickname\">\n                                    <el-button slot=\"append\" type=\"warning\" icon=\"el-icon-edit\"\n                                        @click=\"notUserNicknameEdit = false\"> 修改昵称\n                                    </el-button>\n                                </el-input>\n\n                                <div v-if=\"userPasswordEdit\">\n                                    <div class=\"edit-tip\">原密码</div>\n                                    <el-input v-model=\"userPassword1\" show-password></el-input>\n                                    <div class=\"edit-tip\">新密码</div>\n                                    <el-input v-model=\"userPassword2\" show-password></el-input>\n                                    <div class=\"edit-tip\">确认新密码</div>\n                                    <el-input v-model=\"userPassword3\" show-password></el-input>\n                                    <div class=\"edit-tip\"></div>\n                                    <el-button @click=\"savePassword\" type=\"primary\" plain> 确认修改密码</el-button>\n                                </div>\n                                <div v-else>\n                                    <div class=\"edit-tip\">密码</div>\n                                    <el-input value=\"123456\" :disabled=\"true\" show-password>\n                                        <el-button slot=\"append\" type=\"warning\" icon=\"el-icon-edit\"\n                                            @click=\"userPasswordEdit = true\"> 修改密码\n                                        </el-button>\n                                    </el-input>\n                                </div>\n                                <span slot=\"footer\" class=\"dialog-footer\">\n                                    <el-button @click=\"userInfoDialogVisible = false\" type=\"primary\"> 确认</el-button>\n                                </span>\n                            </el-dialog>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"idle-container\">\n                    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n                        <el-tab-pane label=\"我发布的\" name=\"1\"></el-tab-pane>\n                        <el-tab-pane label=\"我下架的\" name=\"2\"></el-tab-pane>\n                        <el-tab-pane label=\"我收藏的\" name=\"3\"></el-tab-pane>\n                        <el-tab-pane label=\"我卖出的\" name=\"4\"></el-tab-pane>\n                        <el-tab-pane label=\"我买到的\" name=\"5\"></el-tab-pane>\n                    </el-tabs>\n                    <div class=\"idle-container-list\">\n                        <div v-for=\"(item, index) in dataList[activeName - 1]\" :key=\"index\" class=\"idle-container-list-item\">\n                            <div class=\"idle-container-list-item-detile\" @click=\"toDetails(activeName, item)\">\n                                <el-image style=\"width: 115px; height: 115px;\" :src=\"$store.state.baseApi + item.imgUrl\"\n                                    fit=\"cover\">\n                                    <div slot=\"error\" class=\"image-slot\">\n                                        <i class=\"el-icon-picture-outline\">无图</i>\n                                    </div>\n                                </el-image>\n                                <div class=\"idle-container-list-item-text\">\n                                    <div class=\"idle-container-list-title\">\n                                        {{ item.idleName }}\n                                    </div>\n                                    <div class=\"idle-container-list-idle-details\">\n                                        {{ item.idleDetails }}\n                                    </div>\n                                    <div class=\"idle-container-list-idle-time\">{{ item.timeStr }}</div>\n\n                                    <div class=\"idle-item-foot\">\n                                        <div class=\"idle-prive\">￥{{ item.idlePrice }}\n                                            {{ (activeName === '4' || activeName === '5') ? orderStatus[item.orderStatus] : '' }}\n                                        </div>\n                                        <el-button v-if=\"activeName !== '4' && activeName !== '5'\" type=\"danger\"\n                                            slot=\"reference\" plain\n                                            @click.stop=\"handle(activeName, item, index)\">{{ handleName[activeName - 1] }}\n                                        </el-button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div v-show=\"eidtAddress\" class=\"address-container\">\n                <el-page-header class=\"address-container-back\" @back=\"eidtAddress = false\" content=\"收货地址\"></el-page-header>\n                <div class=\"address-container-add\">\n                    <div class=\"address-container-add-title\"><b> 新增收货地址：</b></div>\n\n                    <div class=\"address-container-add-item\">\n                        <el-input placeholder=\"请输入收货人姓名\" v-model=\"addressInfo.consigneeName\" maxlength=\"10\" show-word-limit>\n                            <div slot=\"prepend\">收货人姓名</div>\n                        </el-input>\n                    </div>\n                    <div class=\"address-container-add-item\">\n                        <el-input placeholder=\"请输入收货人手机号\" v-model=\"addressInfo.consigneePhone\"\n                            onkeyup=\"this.value=this.value.replace(/[^\\d.]/g,'');\" maxlength=\"11\" show-word-limit>\n                            <div slot=\"prepend\">手机号</div>\n                        </el-input>\n                    </div>\n\n                    <div class=\"address-container-add-item\">\n                        <span class=\"demonstration\">省/市/区</span>\n                        <el-cascader :options=\"options\" v-model=\"selectedOptions\" @change=\"handleAddressChange\"\n                            :separator=\"' '\">\n                        </el-cascader>\n                    </div>\n                    <div class=\"address-container-add-item\">\n                        <el-input placeholder=\"请输入详细地址（如道路、门牌号、小区、楼栋号等信息）\" v-model=\"addressInfo.detailAddress\"\n                            maxlength=\"50\" show-word-limit>\n                            <div slot=\"prepend\">详细地址</div>\n                        </el-input>\n                    </div>\n                    <el-checkbox v-model=\"addressInfo.defaultFlag\">设置为默认地址</el-checkbox>\n                    <el-button type=\"success\" style=\"margin-left: 20px;\" @click=\"saveAddress\"> 保存</el-button>\n                </div>\n                <div class=\"address-container-list\">\n                    <hr>\n                    <div style=\"color: black;padding-left: 10px;font-size: 26px;\"><b>已存在的收货地址：</b></div>\n                    <br>\n                    <el-table stripe :data=\"addressData\" style=\"width: 100%\">\n                        <el-table-column prop=\"consigneeName\" label=\"收货人姓名\" width=\"100\">\n                        </el-table-column>\n                        <el-table-column prop=\"consigneePhone\" label=\"手机号\" width=\"120\">\n                        </el-table-column>\n                        <el-table-column prop=\"detailAddressText\" label=\"地址\" width=\"270\">\n                        </el-table-column>\n                        <el-table-column label=\"是否默认地址\" width=\"110\">\n                            <template slot-scope=\"scope\">\n                                <el-button v-if=\"!scope.row.defaultFlag\" size=\"mini\"\n                                    @click=\"handleSetDefault(scope.$index, scope.row)\">设为默认\n                                </el-button>\n                                <div v-else style=\"padding-left: 10px;color: #409EFF;\">{{ scope.row.defaultAddress }}\n                                </div>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"操作\" width=\"250\" fixed=\"right\">\n                            <template slot-scope=\"scope\">\n                                <el-button type=\"primary\" size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"> 编辑\n                                </el-button>\n                                <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\"> 删除\n                                </el-button>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n            </div>\n        </app-body>\n        <app-foot></app-foot>\n    </div>\n</template>\n\n<script>\nimport AppHead from '../common/AppHeader.vue';\nimport AppBody from '../common/AppPageBody.vue'\nimport AppFoot from '../common/AppFoot.vue'\nimport options from '../common/country-data.js'\n\nexport default {\n    name: \"me\",\n    components: {\n        AppHead,\n        AppBody,\n        AppFoot\n    },\n    data() {\n        return {\n            imgFileList: [],\n            addressInfo: {\n                consigneeName: '',\n                consigneePhone: '',\n                provinceName: '',\n                cityName: '',\n                regionName: '',\n                detailAddress: '',\n                defaultFlag: false\n            },\n            activeName: '1',\n            handleName: [' 下架', ' 删除', ' 取消收藏', '', ''],\n            dataList: [\n                [],\n                [],\n                [],\n                [],\n                [],\n                [],\n                [],\n                [],\n            ],\n            orderStatus: ['待付款', '待发货', '待收货', '已完成', '已取消'],\n            userInfoDialogVisible: false,\n            notUserNicknameEdit: true,\n            userPasswordEdit: false,\n            userPassword1: '',\n            userPassword2: '',\n            userPassword3: '',\n            eidtAddress: false,\n            selectedOptions: [],//存放默认值\n            options: options,   //存放城市数据,\n            userInfo: {\n                accountNumber: \"\",\n                avatar: \"\",\n                nickname: \"\",\n                signInTime: \"\",\n            },\n            addressData: []\n        };\n    },\n    created() {\n        if (!this.$globalData.userInfo.nickname) {\n            this.$api.getUserInfo().then(res => {\n                if (res.status_code === 1) {\n                    res.data.signInTime = res.data.signInTime.substring(0, 10);\n                    console.log(res.data);\n                    this.$globalData.userInfo = res.data;\n                    this.userInfo = this.$globalData.userInfo;\n                }\n            })\n        } else {\n            this.userInfo = this.$globalData.userInfo;\n            console.log(this.userInfo);\n        }\n        this.getAddressData();\n        this.getIdleItemData();\n        this.getMyOrder();\n        this.getMySoldIdle();\n        this.getMyFavorite();\n    },\n    methods: {\n        getMyFavorite() {\n            this.$api.getMyFavorite().then(res => {\n                console.log('getMyFavorite', res);\n                if (res.status_code === 1) {\n                    for (let i = 0; i < res.data.length; i++) {\n                        let pictureList = JSON.parse(res.data[i].idleItem.pictureList);\n                        this.dataList[2].push({\n                            favoriteId: res.data[i].id,\n                            id: res.data[i].idleItem.id,\n                            imgUrl: pictureList.length > 0 ? pictureList[0] : '',\n                            idleName: res.data[i].idleItem.idleName,\n                            idleDetails: res.data[i].idleItem.idleDetails,\n                            timeStr: res.data[i].createTime.substring(0, 10) + \" \" + res.data[i].createTime.substring(11, 19),\n                            idlePrice: res.data[i].idleItem.idlePrice\n                        });\n                    }\n                }\n            })\n        },\n        getMySoldIdle() {\n            this.$api.getMySoldIdle().then(res => {\n                if (res.status_code === 1) {\n                    console.log('getMySoldIdle', res.data);\n                    for (let i = 0; i < res.data.length; i++) {\n                        let pictureList = JSON.parse(res.data[i].idleItem.pictureList);\n                        this.dataList[3].push({\n                            id: res.data[i].id,\n                            imgUrl: pictureList.length > 0 ? pictureList[0] : '',\n                            idleName: res.data[i].idleItem.idleName,\n                            idleDetails: res.data[i].idleItem.idleDetails,\n                            timeStr: res.data[i].createTime.substring(0, 10) + \" \" + res.data[i].createTime.substring(11, 19),\n                            idlePrice: res.data[i].orderPrice,\n                            orderStatus: res.data[i].orderStatus\n                        });\n                    }\n                }\n            })\n        },\n        getMyOrder() {\n            this.$api.getMyOrder().then(res => {\n                if (res.status_code === 1) {\n                    console.log('getMyOrder', res.data);\n                    for (let i = 0; i < res.data.length; i++) {\n                        let pictureList = JSON.parse(res.data[i].idleItem.pictureList);\n                        this.dataList[4].push({\n                            id: res.data[i].id,\n                            imgUrl: pictureList.length > 0 ? pictureList[0] : '',\n                            idleName: res.data[i].idleItem.idleName,\n                            idleDetails: res.data[i].idleItem.idleDetails,\n                            timeStr: res.data[i].createTime.substring(0, 10) + \" \" + res.data[i].createTime.substring(11, 19),\n                            idlePrice: res.data[i].orderPrice,\n                            orderStatus: res.data[i].orderStatus\n                        });\n                    }\n                }\n            })\n        },\n        getIdleItemData() {\n            this.$api.getAllIdleItem().then(res => {\n                console.log(res);\n                if (res.status_code === 1) {\n                    for (let i = 0; i < res.data.length; i++) {\n                        res.data[i].timeStr = res.data[i].releaseTime.substring(0, 10) + \" \" + res.data[i].releaseTime.substring(11, 19);\n                        let pictureList = JSON.parse(res.data[i].pictureList);\n                        res.data[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                        if (res.data[i].idleStatus === 1) {\n                            this.dataList[0].push(res.data[i]);\n                        } else if (res.data[i].idleStatus === 2) {\n                            this.dataList[1].push(res.data[i]);\n                        }\n                    }\n                }\n            })\n        },\n        getAddressData() {\n            this.$api.getAddress().then(res => {\n                if (res.status_code === 1) {\n                    let data = res.data;\n                    for (let i = 0; i < data.length; i++) {\n                        data[i].detailAddressText = data[i].provinceName + data[i].cityName + data[i].regionName + data[i].detailAddress;\n                        data[i].defaultAddress = data[i].defaultFlag ? '默认地址' : '设为默认';\n                    }\n                    console.log(data);\n                    this.addressData = data;\n                }\n            })\n        },\n        handleClick(tab, event) {\n            // console.log(tab, event);\n            console.log(this.activeName);\n        },\n        saveUserNickname() {\n            this.notUserNicknameEdit = true;\n            this.$api.updateUserPublicInfo({\n                nickname: this.userInfo.nickname\n            }).then(res => {\n                console.log(res);\n                this.$globalData.userInfo.nickname = this.userInfo.nickname;\n            })\n\n        },\n        savePassword() {\n            if (!this.userPassword1 || !this.userPassword2) {\n                this.$message.error('密码为空！');\n            } else if (this.userPassword2 === this.userPassword3) {\n                this.$api.updatePassword({\n                    oldPassword: this.userPassword1,\n                    newPassword: this.userPassword2\n                }).then(res => {\n                    if (res.status_code === 1) {\n                        this.userPasswordEdit = false;\n                        this.$message({\n                            message: '修改成功！',\n                            type: 'success'\n                        });\n                        this.userPassword1 = '';\n                        this.userPassword2 = '';\n                        this.userPassword3 = '';\n                    } else {\n                        this.$message.error('旧密码错误，修改失败！');\n                    }\n                })\n            } else {\n                this.$message.error('两次输入的密码不一致！');\n            }\n\n        },\n        finishEdit() {\n            this.notUserNicknameEdit = true;\n            this.userInfoDialogVisible = false;\n            this.userPasswordEdit = false;\n        },\n        handleAddressChange(value) {\n            console.log(value);\n            this.addressInfo.provinceName = value[0];\n            this.addressInfo.cityName = value[1];\n            this.addressInfo.regionName = value[2];\n        },\n        handleEdit(index, row) {\n            console.log(index, row);\n            this.addressInfo = JSON.parse(JSON.stringify(row));\n            this.selectedOptions = ['', '', ''];\n            this.selectedOptions[0] = row.provinceName;\n            this.selectedOptions[1] = row.cityName;\n            this.selectedOptions[2] = row.regionName;\n        },\n        handleDelete(index, row) {\n            console.log(index, row);\n            this.$confirm('是否确定删除该地址?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                this.$api.deleteAddress(row).then(res => {\n                    if (res.status_code === 1) {\n                        this.$message({\n                            message: '删除成功！',\n                            type: 'success'\n                        });\n                        this.addressData.splice(index, 1);\n                        if (row.defaultFlag && this.addressData.length > 0) {\n                            this.addressData[0].defaultFlag = true;\n                            this.addressData[0].defaultAddress = '默认地址';\n                            this.update({\n                                id: this.addressData[0].id,\n                                defaultFlag: true\n                            });\n                        }\n                    } else {\n                        this.$message.error('系统异常，删除失败！')\n                    }\n                }).catch(() => {\n                    this.$message.error('网络异常！')\n                });\n            }).catch(() => {\n            });\n\n        },\n        handleSetDefault(index, row) {\n            console.log(index, row);\n            row.defaultFlag = true;\n            this.update(row);\n        },\n        toDetails(activeName, item) {\n            if (activeName === '4' || activeName === '5') {\n                this.$router.push({ path: '/order', query: { id: item.id } });\n            } else {\n                this.$router.push({ path: '/details', query: { id: item.id } });\n            }\n        },\n        handle(activeName, item, index) {\n            console.log(activeName, item, index);\n            this.$confirm('是否确认？', '提示', {\n                confirmButtonText: '确认',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                if (activeName === '1') {\n                    this.$api.updateIdleItem({\n                        id: item.id,\n                        idleStatus: 2\n                    }).then(res => {\n                        console.log(res);\n                        if (res.status_code === 1) {\n                            this.dataList[0].splice(index, 1);\n                            item.idleStatus = 2;\n                            this.dataList[1].unshift(item);\n                        } else {\n                            this.$message.error(res.msg)\n                        }\n                    });\n                } else if (activeName === '2') {\n                    this.$api.updateIdleItem({\n                        id: item.id,\n                        idleStatus: 0\n                    }).then(res => {\n                        console.log(res);\n                        if (res.status_code === 1) {\n                            this.dataList[1].splice(index, 1);\n                        } else {\n                            this.$message.error(res.msg)\n                        }\n                    });\n                } else if (activeName === '3') {\n                    this.$api.deleteFavorite({\n                        id: item.favoriteId\n                    }).then(res => {\n                        console.log(res);\n                        if (res.status_code === 1) {\n                            this.$message({\n                                message: '已取消收藏！',\n                                type: 'success'\n                            });\n                            this.dataList[2].splice(index, 1);\n                        } else {\n                            this.$message.error(res.msg)\n                        }\n                    }).catch(e => {\n                    })\n                }\n            }).catch(() => {\n            });\n\n        },\n        fileHandleSuccess(response, file, fileList) {\n            console.log(\"file:\", response, file, fileList);\n            let imgUrl = response.data;\n            this.imgFileList = [];\n            this.$api.updateUserPublicInfo({\n                avatar: imgUrl\n            }).then(res => {\n                console.log(res);\n                this.userInfo.avatar = imgUrl;\n                this.$globalData.userInfo.avatar = imgUrl;\n            })\n        },\n        update(data) {\n            this.$api.updateAddress(data).then(res => {\n                if (res.status_code === 1) {\n                    this.getAddressData();\n                    this.$message({\n                        message: '修改成功！',\n                        type: 'success'\n                    });\n                } else {\n                    this.$message.error('系统异常，修改失败！')\n                }\n            }).catch(() => {\n                this.$message.error('网络异常！')\n            })\n        },\n        saveAddress() {\n            if (this.addressInfo.id) {\n                console.log('update:', this.addressInfo);\n                this.update(this.addressInfo);\n                this.addressInfo = {\n                    consigneeName: '',\n                    consigneePhone: '',\n                    provinceName: '',\n                    cityName: '',\n                    regionName: '',\n                    detailAddress: '',\n                    defaultFlag: false\n                };\n                this.selectedOptions = [];\n            } else {\n                if (this.addressData.length >= 5) {\n                    this.$message.error('已达到最大地址数量！')\n                } else {\n                    console.log(this.addressInfo);\n                    this.$api.addAddress(this.addressInfo).then(res => {\n                        if (res.status_code === 1) {\n                            this.getAddressData();\n                            this.$message({\n                                message: '新增成功！',\n                                type: 'success'\n                            });\n                            this.selectedOptions = [];\n                            this.addressInfo = {\n                                consigneeName: '',\n                                consigneePhone: '',\n                                provinceName: '',\n                                cityName: '',\n                                regionName: '',\n                                detailAddress: '',\n                                defaultFlag: false\n                            };\n                        } else {\n                            this.$message.error('系统异常，新增失败！')\n                        }\n                    }).catch(e => {\n                        this.$message.error('网络异常！')\n                    })\n                }\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.user-info-container {\n    width: 100%;\n    height: 200px;\n    border-bottom: 15px solid #f6f6f6;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.user-info-details {\n    display: flex;\n    height: 140px;\n    align-items: center;\n    margin: 20px 40px;\n}\n\n.user-info-details-text {\n    margin-left: 20px;\n}\n\n.user-info-details-text-nickname {\n    font-size: 26px;\n    font-weight: 600;\n    margin: 10px 0;\n}\n\n.user-info-details-text-time {\n    font-size: 14px;\n    margin-bottom: 10px;\n}\n\n.user-info-splace {\n    margin-right: 90px;\n}\n\n.idle-container {\n    padding: 0 20px;\n}\n\n.idle-container-list {\n    min-height: 55vh;\n}\n\n.idle-container-list-item {\n    border-bottom: 1px solid #eeeeee;\n    cursor: pointer;\n}\n\n.idle-container-list-item:last-child {\n    border-bottom: none;\n}\n\n.idle-container-list-item-detile {\n    height: 120px;\n    display: flex;\n    align-items: center;\n}\n\n.idle-container-list-item-text {\n    margin-left: 10px;\n    height: 120px;\n    max-width: 800px;\n}\n\n.idle-container-list-title {\n    font-weight: 600;\n    font-size: 18px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.idle-container-list-idle-details {\n    font-size: 14px;\n    color: #555555;\n    padding-top: 5px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.idle-container-list-idle-time {\n    font-size: 13px;\n    padding-top: 5px;\n}\n\n.idle-prive {\n    font-size: 15px;\n    padding-top: 5px;\n    color: red;\n}\n\n.edit-tip {\n    font-size: 14px;\n    margin: 10px 5px;\n}\n\n.address-container {\n    padding: 10px 20px;\n}\n\n.address-container-back {\n    margin-bottom: 10px;\n}\n\n.address-container-add-title {\n    color: #409EFF;\n    padding: 10px;\n    color: black;\n    font-size: 28px;\n}\n\n.address-container-add-item {\n    margin-bottom: 20px;\n}\n\n.demonstration {\n    color: #666666;\n    font-size: 14px;\n    padding: 10px;\n}\n\n.address-container-add {\n    padding: 0 200px;\n}\n\n.address-container-list {\n    padding: 30px 100px;\n}\n\n.idle-item-foot {\n    width: 800px;\n    display: flex;\n    justify-content: space-between;\n}\n</style>"]}]}